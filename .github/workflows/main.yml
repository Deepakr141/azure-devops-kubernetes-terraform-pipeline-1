name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - run: echo "ðŸŽ‰ The job was automatically triggered by a ${{ github.event_name }} event."
      - run: echo "ðŸ§ This job is now running on a ${{ runner.os }} server hosted by GitHub!"
      - run: echo "ðŸ”Ž The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
      - name: Check out repository code
        uses: actions/checkout@v3
      - run: echo "ðŸ’¡ The ${{ github.repository }} repository has been cloned to the runner."
      - run: echo "ðŸ–¥ï¸ The workflow is now ready to test your code on the runner."
      - name: List files in the repository
        run: |
          ls ${{ github.workspace }}
      - run: echo "ðŸ This job's status is ${{ job.status }}."
      
      - name: Send Email with Reports
        uses: actions/github-script@v5
        with:
          script: |
            const email = require('emailjs');

            const smtpServer = 'your-smtp-server';	
            const smtpPort = 587;
            const smtpUsername = 'your-smtp-username';
            const smtpPassword = 'your-smtp-password';

            const from = 'your-email@example.com';
            const to = 'recipient-email@example.com';
            const subject = 'Cucumber Reports';
            const body = 'Please find attached the Cucumber reports.';

            const server = email.server.connect({
              user: smtpUsername,
              password: smtpPassword,
              host: smtpServer,
              port: smtpPort,
              ssl: false
            });

            server.send(
              {
                text: body,
                from: from,
                to: to,
                subject: subject,
                attachment: [
                  { path: 'path/to/cucumber/report.html', type: 'text/html', name: 'Cucumber Report.html' }
                ]
              },
              (err, message) => {
                console.log(err || message);
              }
            );
  
